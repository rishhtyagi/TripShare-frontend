{"ast":null,"code":"import _classCallCheck from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyTrips=/*#__PURE__*/function(_Component){_inherits(MyTrips,_Component);var _super=_createSuper(MyTrips);function MyTrips(props){var _this;_classCallCheck(this,MyTrips);_this=_super.call(this,props);_this.state={trips:null};_this.deleteTrip=_this.deleteTrip.bind(_assertThisInitialized(_this));_this.myMatches=_this.myMatches.bind(_assertThisInitialized(_this));return _this;}_createClass(MyTrips,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8085/user/gettrips\",{method:\"get\",headers:new Headers({Authorization:localStorage.jwtToken,\"Content-Type\":\"application/json\"})}).then(function(response){return response.json();}).then(function(mytrips){console.log(mytrips);_this2.setState({trips:mytrips});});}},{key:\"myMatches\",value:function myMatches(tripId){console.log(tripId);localStorage.setItem(\"tripId\",tripId);this.props.history.push(\"/newMatch\");}},{key:\"deleteTrip\",value:function deleteTrip(tripId){console.log(tripId);axios.post(\"http://localhost:8085/user/deletetrip/\"+tripId,{headers:{Authorization:localStorage.jwtToken}});}},{key:\"render\",value:function render(){var _this3=this;var trips=this.state.trips;var isLoading=trips===null;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-white\",children:\"My Trip's List\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-bordered text-white text-center border border-dark bg-dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\" Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Destination\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Budget\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Group Size\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\" Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:isLoading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:7,className:\"uk-text-center text-white\",children:/*#__PURE__*/_jsx(\"em\",{className:\"uk-text-muted text-white\",children:\"No trips to display\"})})}):this.state.trips.map(function(mtrip){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",mtrip.description,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",mtrip.destination]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",mtrip.tripBudget]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",mtrip.groupSize]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",mtrip.tripDate,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this3.myMatches(mtrip.tripId);},className:\"btn btn-info\",children:[\"View Matches\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{style:{marginLeft:\"10px\"},onClick:function onClick(){return _this3.deleteTrip(mtrip.tripId);},className:\"btn btn-danger\",children:[\"Delete\",\" \"]})]})]},mtrip.tripId);})})]})})]});}}]);return MyTrips;}(Component);export default MyTrips;","map":{"version":3,"sources":["/home/nayanchaturvedi/Documents/tripshare/src/components/MyTrips.js"],"names":["React","Component","axios","MyTrips","props","state","trips","deleteTrip","bind","myMatches","fetch","method","headers","Headers","Authorization","localStorage","jwtToken","then","response","json","mytrips","console","log","setState","tripId","setItem","history","push","post","isLoading","map","mtrip","description","destination","tripBudget","groupSize","tripDate","marginLeft"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass MyTrips extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trips: null,\n    };\n\n    this.deleteTrip = this.deleteTrip.bind(this);\n    this.myMatches = this.myMatches.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8085/user/gettrips\", {\n      method: \"get\",\n      headers: new Headers({\n        Authorization: localStorage.jwtToken,\n        \"Content-Type\": \"application/json\",\n      }),\n    })\n      .then((response) => response.json())\n      .then((mytrips) => {\n        console.log(mytrips);\n        this.setState({\n          trips: mytrips,\n        });\n      });\n  }\n\n  myMatches(tripId) {\n    console.log(tripId);\n    localStorage.setItem(\"tripId\", tripId);\n    this.props.history.push(\"/newMatch\");\n  }\n\n  deleteTrip(tripId) {\n    console.log(tripId);\n    axios.post(\"http://localhost:8085/user/deletetrip/\" + tripId, {\n      headers: {\n        Authorization: localStorage.jwtToken,\n      },\n    });\n  }\n  render() {\n    const { trips } = this.state;\n    const isLoading = trips === null;\n\n    return (\n      <div>\n        <h2 className=\"text-center text-white\">My Trip's List</h2>\n        <br></br>\n        <div className=\"row\">\n          <table className=\"table table-striped table-bordered text-white text-center border border-dark bg-dark\">\n            <thead>\n              <tr>\n                <th> Description</th>\n                <th> Destination</th>\n                <th> Budget</th>\n                <th> Group Size</th>\n                <th> Date</th>\n                <th> Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {isLoading ? (\n                <tr>\n                  <td colSpan={7} className=\"uk-text-center text-white\">\n                    <em className=\"uk-text-muted text-white\">\n                      No trips to display\n                    </em>\n                  </td>\n                </tr>\n              ) : (\n                this.state.trips.map((mtrip) => (\n                  <tr key={mtrip.tripId}>\n                    <td> {mtrip.description} </td>\n                    <td> {mtrip.destination}</td>\n                    <td> {mtrip.tripBudget}</td>\n                    <td> {mtrip.groupSize}</td>\n                    <td> {mtrip.tripDate} </td>\n                    <td>\n                      <button\n                        onClick={() => this.myMatches(mtrip.tripId)}\n                        className=\"btn btn-info\"\n                      >\n                        View Matches{\" \"}\n                      </button>\n                      <button\n                        style={{ marginLeft: \"10px\" }}\n                        onClick={() => this.deleteTrip(mtrip.tripId)}\n                        className=\"btn btn-danger\"\n                      >\n                        Delete{\" \"}\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MyTrips;\n"]},"metadata":{},"sourceType":"module"}