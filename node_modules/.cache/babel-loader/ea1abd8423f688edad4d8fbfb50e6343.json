{"ast":null,"code":"import _classCallCheck from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import EditServices from\"../services/EditServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePhoto=/*#__PURE__*/function(_Component){_inherits(ChangePhoto,_Component);var _super=_createSuper(ChangePhoto);function ChangePhoto(props){var _this;_classCallCheck(this,ChangePhoto);_this=_super.call(this,props);_this.state={file:\"http://localhost:8085/userphotos/\"+localStorage.getItem(\"photoPath\"),data:\"\"};localStorage.removeItem(\"photoPath\");_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.backtoDashboardService=_this.backtoDashboardService.bind(_assertThisInitialized(_this));_this.changePhoto=_this.changePhoto.bind(_assertThisInitialized(_this));return _this;}_createClass(ChangePhoto,[{key:\"handleChange\",value:function handleChange(event){var fileList=document.getElementById(\"image\").files;var data=new FormData();data.append(\"image\",fileList[0]);this.setState({file:URL.createObjectURL(event.target.files[0]),data:fileList[0]});}},{key:\"changePhoto\",value:function changePhoto(){var _this2=this;EditServices.savePhoto(this.state.data).then(function(res){console.log(res.data);return _this2.props.history.push(\"/dashboard\");});}},{key:\"backtoDashboardService\",value:function backtoDashboardService(){return this.props.history.push(\"/dashboard\");}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center text-dark\",children:\" Change Your Profile Photo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",accept:\".jpg\",id:\"image\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:this.state.file,className:\"rounded-circle\",width:\"150\",alt:\"No Preview\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{style:{marginLeft:\"10px\"},onClick:this.changePhoto,className:\"btn btn-info\",children:[\"Change Photo\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{style:{marginLeft:\"10px\"},onClick:this.backtoDashboardService,className:\"btn btn-danger\",children:[\"Cancel\",\" \"]})]})]})]});}}]);return ChangePhoto;}(Component);export default ChangePhoto;","map":{"version":3,"sources":["/home/nayanchaturvedi/Documents/tripshare/src/components/ChangePhoto.js"],"names":["React","Component","EditServices","ChangePhoto","props","state","file","localStorage","getItem","data","removeItem","handleChange","bind","backtoDashboardService","changePhoto","event","fileList","document","getElementById","files","FormData","append","setState","URL","createObjectURL","target","savePhoto","then","res","console","log","history","push","marginLeft"],"mappings":"gyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,C,2FAEMC,CAAAA,W,0GACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CACF,oCAAsCC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAF7B,CAGXC,IAAI,CAAE,EAHK,CAAb,CAKAF,YAAY,CAACG,UAAb,CAAwB,WAAxB,EAEA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BD,IAA5B,+BAA9B,CACA,MAAKE,WAAL,CAAmB,MAAKA,WAAL,CAAiBF,IAAjB,+BAAnB,CAXiB,aAYlB,C,oDAED,sBAAaG,KAAb,CAAoB,CAClB,GAAIC,CAAAA,QAAQ,CAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAAhD,CACA,GAAIV,CAAAA,IAAI,CAAG,GAAIW,CAAAA,QAAJ,EAAX,CACAX,IAAI,CAACY,MAAL,CAAY,OAAZ,CAAqBL,QAAQ,CAAC,CAAD,CAA7B,EAEA,KAAKM,QAAL,CAAc,CACZhB,IAAI,CAAEiB,GAAG,CAACC,eAAJ,CAAoBT,KAAK,CAACU,MAAN,CAAaN,KAAb,CAAmB,CAAnB,CAApB,CADM,CAEZV,IAAI,CAAEO,QAAQ,CAAC,CAAD,CAFF,CAAd,EAID,C,2BAED,sBAAc,iBACZd,YAAY,CAACwB,SAAb,CAAuB,KAAKrB,KAAL,CAAWI,IAAlC,EAAwCkB,IAAxC,CAA6C,SAACC,GAAD,CAAS,CACpDC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACnB,IAAhB,EACA,MAAO,CAAA,MAAI,CAACL,KAAL,CAAW2B,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,CAAP,CACD,CAHD,EAID,C,sCAED,iCAAyB,CACvB,MAAO,MAAK5B,KAAL,CAAW2B,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,CAAP,CACD,C,sBAED,iBAAS,CACP,mBACE,uBACG,GADH,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,2BAAf,wBACE,aADF,cAEE,aAFF,cAGE,WAAI,SAAS,CAAC,uBAAd,wCAHF,cAIE,aAAK,SAAS,CAAC,uBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,MAAM,CAAC,MAHT,CAIE,EAAE,CAAC,OAJL,CAKE,QAAQ,CAAE,KAAKrB,YALjB,EADF,cAQE,aARF,cASE,aATF,cAUE,YACE,GAAG,CAAE,KAAKN,KAAL,CAAWC,IADlB,CAEE,SAAS,CAAC,gBAFZ,CAGE,KAAK,CAAC,KAHR,CAIE,GAAG,CAAC,YAJN,EAVF,cAgBE,aAhBF,cAiBE,aAjBF,cAkBE,gBACE,KAAK,CAAE,CAAE2B,UAAU,CAAE,MAAd,CADT,CAEE,OAAO,CAAE,KAAKnB,WAFhB,CAGE,SAAS,CAAC,cAHZ,0BAKe,GALf,GAlBF,cAyBE,gBACE,KAAK,CAAE,CAAEmB,UAAU,CAAE,MAAd,CADT,CAEE,OAAO,CAAE,KAAKpB,sBAFhB,CAGE,SAAS,CAAC,gBAHZ,oBAKS,GALT,GAzBF,GAJF,GAHF,GADF,CA4CD,C,yBAlFuBZ,S,EAqF1B,cAAeE,CAAAA,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport EditServices from \"../services/EditServices\";\n\nclass ChangePhoto extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file:\n        `http://localhost:8085/userphotos/` + localStorage.getItem(\"photoPath\"),\n      data: \"\",\n    };\n    localStorage.removeItem(\"photoPath\");\n\n    this.handleChange = this.handleChange.bind(this);\n    this.backtoDashboardService = this.backtoDashboardService.bind(this);\n    this.changePhoto = this.changePhoto.bind(this);\n  }\n\n  handleChange(event) {\n    var fileList = document.getElementById(\"image\").files;\n    var data = new FormData();\n    data.append(\"image\", fileList[0]);\n\n    this.setState({\n      file: URL.createObjectURL(event.target.files[0]),\n      data: fileList[0],\n    });\n  }\n\n  changePhoto() {\n    EditServices.savePhoto(this.state.data).then((res) => {\n      console.log(res.data);\n      return this.props.history.push(\"/dashboard\");\n    });\n  }\n\n  backtoDashboardService() {\n    return this.props.history.push(\"/dashboard\");\n  }\n\n  render() {\n    return (\n      <div>\n        {\" \"}\n        <br></br>\n        <div className=\"card col-md-6 offset-md-3\">\n          <br />\n          <br />\n          <h3 className=\"text-center text-dark\"> Change Your Profile Photo</h3>\n          <div className=\"card-body text-center\">\n            <input\n              type=\"file\"\n              name=\"image\"\n              accept=\".jpg\"\n              id=\"image\"\n              onChange={this.handleChange}\n            />\n            <br />\n            <br />\n            <img\n              src={this.state.file}\n              className=\"rounded-circle\"\n              width=\"150\"\n              alt=\"No Preview\"\n            />\n            <br />\n            <br />\n            <button\n              style={{ marginLeft: \"10px\" }}\n              onClick={this.changePhoto}\n              className=\"btn btn-info\"\n            >\n              Change Photo{\" \"}\n            </button>\n            <button\n              style={{ marginLeft: \"10px\" }}\n              onClick={this.backtoDashboardService}\n              className=\"btn btn-danger\"\n            >\n              Cancel{\" \"}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangePhoto;\n"]},"metadata":{},"sourceType":"module"}