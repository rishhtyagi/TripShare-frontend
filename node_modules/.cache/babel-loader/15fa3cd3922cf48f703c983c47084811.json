{"ast":null,"code":"import _classCallCheck from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import EditServices from\"../services/EditServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePhoto=/*#__PURE__*/function(_Component){_inherits(ChangePhoto,_Component);var _super=_createSuper(ChangePhoto);function ChangePhoto(props){var _this;_classCallCheck(this,ChangePhoto);_this=_super.call(this,props);_this.state={file:localStorage.getItem(\"photoPath\"),newphoto:\"\"};localStorage.removeItem(\"photoPath\");_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.backtoDashboardService=_this.backtoDashboardService.bind(_assertThisInitialized(_this));_this.changePhoto=_this.changePhoto.bind(_assertThisInitialized(_this));return _this;}_createClass(ChangePhoto,[{key:\"handleChange\",value:function handleChange(event){this.setState({file:URL.createObjectURL(event.target.files[0]),newphoto:event.target.files[0]});console.log(this.state.newphoto);}},{key:\"changePhoto\",value:function changePhoto(){EditServices.savePhoto(this.state.file).then(function(res){console.log(res.data);});}},{key:\"backtoDashboardService\",value:function backtoDashboardService(){return this.props.history.push(\"/dashboard\");}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"card col-md-6 offset-md-3\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center text-dark\",children:\" Change Your Profile Photo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",accept:\".jpg\",id:\"file\",onChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:this.state.file,className:\"rounded-circle\",width:\"150\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{style:{marginLeft:\"10px\"},onClick:this.changePhoto,className:\"btn btn-info\",children:[\"Change Photo\",\" \"]}),/*#__PURE__*/_jsxs(\"button\",{style:{marginLeft:\"10px\"},onClick:this.backtoDashboardService,className:\"btn btn-danger\",children:[\"Cancel\",\" \"]})]})]})]});}}]);return ChangePhoto;}(Component);export default ChangePhoto;","map":{"version":3,"sources":["/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/src/components/ChangePhoto.js"],"names":["React","Component","EditServices","ChangePhoto","props","state","file","localStorage","getItem","newphoto","removeItem","handleChange","bind","backtoDashboardService","changePhoto","event","setState","URL","createObjectURL","target","files","console","log","savePhoto","then","res","data","history","push","marginLeft"],"mappings":"m5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,C,2FAEMC,CAAAA,W,0GACJ,qBAAYC,KAAZ,CAAmB,6CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,CADK,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAIAF,YAAY,CAACG,UAAb,CAAwB,WAAxB,EAEA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,sBAAL,CAA8B,MAAKA,sBAAL,CAA4BD,IAA5B,+BAA9B,CACA,MAAKE,WAAL,CAAmB,MAAKA,WAAL,CAAiBF,IAAjB,+BAAnB,CAViB,aAWlB,C,oDAED,sBAAaG,KAAb,CAAoB,CAClB,KAAKC,QAAL,CAAc,CACZV,IAAI,CAAEW,GAAG,CAACC,eAAJ,CAAoBH,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,CADM,CAEZX,QAAQ,CAAEM,KAAK,CAACI,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAFE,CAAd,EAIAC,OAAO,CAACC,GAAR,CAAY,KAAKjB,KAAL,CAAWI,QAAvB,EACD,C,2BAED,sBAAc,CACZP,YAAY,CAACqB,SAAb,CAAuB,KAAKlB,KAAL,CAAWC,IAAlC,EAAwCkB,IAAxC,CAA6C,SAACC,GAAD,CAAS,CACpDJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB,EACD,CAFD,EAGD,C,sCAED,iCAAyB,CACvB,MAAO,MAAKtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB,CAAP,CACD,C,sBAED,iBAAS,CACP,mBACE,uBACG,GADH,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,2BAAf,wBACE,aADF,cAEE,aAFF,cAGE,WAAI,SAAS,CAAC,uBAAd,wCAHF,cAIE,aAAK,SAAS,CAAC,uBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,OAFP,CAGE,MAAM,CAAC,MAHT,CAIE,EAAE,CAAC,MAJL,CAKE,QAAQ,CAAE,KAAKjB,YALjB,EADF,cAQE,aARF,cASE,aATF,cAUE,YAAK,GAAG,CAAE,KAAKN,KAAL,CAAWC,IAArB,CAA2B,SAAS,CAAC,gBAArC,CAAsD,KAAK,CAAC,KAA5D,EAVF,cAWE,aAXF,cAYE,aAZF,cAaE,gBACE,KAAK,CAAE,CAAEuB,UAAU,CAAE,MAAd,CADT,CAEE,OAAO,CAAE,KAAKf,WAFhB,CAGE,SAAS,CAAC,cAHZ,0BAKe,GALf,GAbF,cAoBE,gBACE,KAAK,CAAE,CAAEe,UAAU,CAAE,MAAd,CADT,CAEE,OAAO,CAAE,KAAKhB,sBAFhB,CAGE,SAAS,CAAC,gBAHZ,oBAKS,GALT,GApBF,GAJF,GAHF,GADF,CAuCD,C,yBAxEuBZ,S,EA2E1B,cAAeE,CAAAA,WAAf","sourcesContent":["import React, { Component } from \"react\";\nimport EditServices from \"../services/EditServices\";\n\nclass ChangePhoto extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: localStorage.getItem(\"photoPath\"),\n      newphoto: \"\",\n    };\n    localStorage.removeItem(\"photoPath\");\n\n    this.handleChange = this.handleChange.bind(this);\n    this.backtoDashboardService = this.backtoDashboardService.bind(this);\n    this.changePhoto = this.changePhoto.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      file: URL.createObjectURL(event.target.files[0]),\n      newphoto: event.target.files[0],\n    });\n    console.log(this.state.newphoto);\n  }\n\n  changePhoto() {\n    EditServices.savePhoto(this.state.file).then((res) => {\n      console.log(res.data);\n    });\n  }\n\n  backtoDashboardService() {\n    return this.props.history.push(\"/dashboard\");\n  }\n\n  render() {\n    return (\n      <div>\n        {\" \"}\n        <br></br>\n        <div className=\"card col-md-6 offset-md-3\">\n          <br />\n          <br />\n          <h3 className=\"text-center text-dark\"> Change Your Profile Photo</h3>\n          <div className=\"card-body text-center\">\n            <input\n              type=\"file\"\n              name=\"image\"\n              accept=\".jpg\"\n              id=\"file\"\n              onChange={this.handleChange}\n            />\n            <br />\n            <br />\n            <img src={this.state.file} className=\"rounded-circle\" width=\"150\" />\n            <br />\n            <br />\n            <button\n              style={{ marginLeft: \"10px\" }}\n              onClick={this.changePhoto}\n              className=\"btn btn-info\"\n            >\n              Change Photo{\" \"}\n            </button>\n            <button\n              style={{ marginLeft: \"10px\" }}\n              onClick={this.backtoDashboardService}\n              className=\"btn btn-danger\"\n            >\n              Cancel{\" \"}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangePhoto;\n"]},"metadata":{},"sourceType":"module"}