{"ast":null,"code":"import _classCallCheck from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Button}from\"react-bootstrap\";//import * from \"../assets/css/\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(props,context){var _this;_classCallCheck(this,Dashboard);_this=_super.call(this,props,context);_this.findUserByUser=function(){fetch(\"http://localhost:8085/user/getdetails\",{method:\"get\",headers:new Headers({Authorization:localStorage.jwtToken,\"Content-Type\":\"application/json\"})}).then(function(response){return response.json();}).then(function(user){console.log(user);_this.setState({id:user.id,firstName:user.firstName,lastName:user.lastName,email:user.email,dob:user.dob,description:user.description,photoPath:user.photoPath});if(user.gender===1){_this.setState({gender:\"Male\"});}else if(user.gender===0){_this.setState({gender:\"Other\"});}else if(user.gender==2){_this.setState({gender:\"Female\"});}});// return this.props.history.push(\"/dashboard\");\n};_this.findTripsByUser=function(){fetch(\"http://localhost:8085/user/gettrips\",{method:\"get\",headers:new Headers({Authorization:localStorage.jwtToken,\"Content-Type\":\"application/json\"})}).then(function(response){return response.json();}).then(function(trips){console.log(trips[0]);_this.setState({trip:trips[0],test:trips.length});console.log(_this.state.test);});};_this.getChatUsers=function(){fetch(\"http://localhost:8085/user/getchatslist\",{method:\"get\",headers:new Headers({Authorization:localStorage.jwtToken,\"Content-Type\":\"application/json\"})}).then(function(response){return response.json();}).then(function(chatUsers){console.log(chatUsers);_this.setState({firstChatUser:chatUsers[0]});});};_this.state={id:\"\",firstName:\"\",lastName:\"\",email:\"\",dob:\"\",description:\"\",gender:\"\",photoPath:null,trip:null,test:\"\",firstChatUser:null};_this.editProfile=_this.editProfile.bind(_assertThisInitialized(_this));_this.createTrip=_this.createTrip.bind(_assertThisInitialized(_this));_this.deleteProfile=_this.deleteProfile.bind(_assertThisInitialized(_this));_this.changePhoto=_this.changePhoto.bind(_assertThisInitialized(_this));_this.myTrips=_this.myTrips.bind(_assertThisInitialized(_this));_this.myChats=_this.myChats.bind(_assertThisInitialized(_this));localStorage.removeItem(\"newtripId\");return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){this.findUserByUser();this.findTripsByUser();this.getChatUsers();}},{key:\"editProfile\",value:function editProfile(){return this.props.history.push(\"/editProfile\");}},{key:\"createTrip\",value:function createTrip(){return this.props.history.push(\"/createtrip\");}},{key:\"deleteProfile\",value:function deleteProfile(){return this.props.history.push(\"/deleteProfile\");}},{key:\"myChats\",value:function myChats(){return this.props.history.push(\"/chatUi/\"+this.state.id);}},{key:\"myTrips\",value:function myTrips(){return this.props.history.push(\"/myTrips\");}},{key:\"changePhoto\",value:function changePhoto(){localStorage.setItem(\"photoPath\",this.state.photoPath);return this.props.history.push(\"/changePhoto\");}},{key:\"render\",value:function render(){var _this$state=this.state,firstName=_this$state.firstName,lastName=_this$state.lastName,email=_this$state.email,gender=_this$state.gender,description=_this$state.description,dob=_this$state.dob,photoPath=_this$state.photoPath,trip=_this$state.trip,test=_this$state.test,firstChatUser=_this$state.firstChatUser,nchatUsers=_this$state.nchatUsers;var isPhoto=photoPath===null;var yaar;if(!test){yaar=/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-center bg-info block-example border border-danger w-100 p-2\",children:[\"There are no previous trips to display.\",/*#__PURE__*/_jsx(\"br\",{}),\" Click on Create Trip Button to create new. trips.\"]});}else{yaar=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{children:\"Latest Trip\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-dark block-example border border-info w-100 p-2\",children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Description:\",trip.description,/*#__PURE__*/_jsx(\"br\",{}),\"Location: \",trip.destination,\" | \",\"Budget: \",trip.tripBudget,/*#__PURE__*/_jsx(\"br\",{}),\"Group Size: \",trip.groupSize,\" | \",\"Date: \",trip.tripDate]})}),/*#__PURE__*/_jsx(\"small\",{children:\"To see all the information click on button below...\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Button,{size:\"sm\",className:\"text-center\",onClick:this.myTrips,children:[\" \",\"View all\"]})]});}var chatUserDisplay;if(!firstChatUser){chatUserDisplay=/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-center bg-info block-example border border-danger w-100 p-2\",children:\"There are no messages.\"});}else{chatUserDisplay=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{children:\"You have a message from:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-dark block-example border border-info w-100 p-2\",children:/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[firstChatUser.firstName,\" \",firstChatUser.lastName]})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Button,{size:\"sm\",className:\"text-center\",onClick:this.myChats,children:[\" \",\"View other messages\"]})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"main-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row gutters-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center text-center\",children:[isPhoto?/*#__PURE__*/_jsx(\"img\",{src:\"https://i2-prod.manchestereveningnews.co.uk/sport/football/football-news/article18186890.ece/ALTERNATES/s1200c/2_GettyImages-1184489344.jpg\",alt:\"Admin\",className:\"rounded-circle\",width:\"150\"}):/*#__PURE__*/_jsx(\"img\",{src:\"https://bootdey.com/img/Content/avatar/avatar7.png\",alt:\"No photo to preview\",className:\"rounded-circle\",width:\"150\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:firstName+\" \"+lastName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-secondary mb-3\",children:description}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.changePhoto,children:\"Change Photo\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card mt-3\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item text-center\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{type:\"text/css\",children:\"\\n                      .editProfile {\\n                        background-color: #1E90FF ;\\n                        color: white;\\n                      }\\n                      .createTrip {\\n                        background-color: grey;\\n                        color: white;\\n                      }\\n\\n                      .btn-xxl {\\n                        left: 1rem;\\n                        font-size: 1rem;\\n                      }\\n                      \"}),/*#__PURE__*/_jsx(Button,{className:\"editProfile\",variant:\"flat\",size:\"xxl1\",onClick:this.editProfile,children:\"Edit Profile\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item text-center\",children:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Button,{className:\"createTrip\",variant:\"flat\",size:\"xxl1\",onClick:this.createTrip,children:\"Create Trip\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item text-center\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{type:\"text/css\",children:\"\\n                      .btn-flat1 {\\n                        background-color: #B22222;\\n                        color: white;\\n                      }\\n\\n                      .btn-xxl1 {\\n                        left: 1rem;\\n                        font-size: 1rem;\\n                      }\\n                      \"}),/*#__PURE__*/_jsx(Button,{variant:\"flat1\",size:\"xxl1\",onClick:this.deleteProfile,children:\"Delete Account\"})]})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Full Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:firstName+\" \"+lastName})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:email})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Gender\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:gender})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-3\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"mb-0\",children:\"Date of Birth\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-9 text-secondary\",children:dob})]}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row gutters-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"d-flex align-items-center mb-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons text-info mr-2\",children:\"Chat Messages\"})}),chatUserDisplay]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"d-flex align-items-center mb-3\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons text-info mr-2\",children:\"My Trips\"})}),yaar]})})})]})]})]})})});}}]);return Dashboard;}(Component);export default Dashboard;","map":{"version":3,"sources":["/home/rishabh/IIITB/SEMII/SPE/Project/project-frontend/tripshare/src/components/Dashboard.js"],"names":["React","Component","Button","Dashboard","props","context","findUserByUser","fetch","method","headers","Headers","Authorization","localStorage","jwtToken","then","response","json","user","console","log","setState","id","firstName","lastName","email","dob","description","photoPath","gender","findTripsByUser","trips","trip","test","length","state","getChatUsers","chatUsers","firstChatUser","editProfile","bind","createTrip","deleteProfile","changePhoto","myTrips","myChats","removeItem","history","push","setItem","nchatUsers","isPhoto","yaar","destination","tripBudget","groupSize","tripDate","chatUserDisplay"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\n\n//import * from \"../assets/css/\"\n\nclass Dashboard extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      id: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      dob: \"\",\n      description: \"\",\n      gender: \"\",\n      photoPath: null,\n      trip: null,\n      test: \"\",\n      firstChatUser: null,\n    };\n    this.editProfile = this.editProfile.bind(this);\n    this.createTrip = this.createTrip.bind(this);\n    this.deleteProfile = this.deleteProfile.bind(this);\n    this.changePhoto = this.changePhoto.bind(this);\n    this.myTrips = this.myTrips.bind(this);\n    this.myChats = this.myChats.bind(this);\n    localStorage.removeItem(\"newtripId\");\n  }\n\n  componentDidMount() {\n    this.findUserByUser();\n    this.findTripsByUser();\n    this.getChatUsers();\n  }\n\n  editProfile() {\n    return this.props.history.push(\"/editProfile\");\n  }\n\n  findUserByUser = () => {\n    fetch(\"http://localhost:8085/user/getdetails\", {\n      method: \"get\",\n      headers: new Headers({\n        Authorization: localStorage.jwtToken,\n        \"Content-Type\": \"application/json\",\n      }),\n    })\n      .then((response) => response.json())\n      .then((user) => {\n        console.log(user);\n        this.setState({\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          email: user.email,\n\n          dob: user.dob,\n          description: user.description,\n          photoPath: user.photoPath,\n        });\n\n        if (user.gender === 1) {\n          this.setState({ gender: \"Male\" });\n        } else if (user.gender === 0) {\n          this.setState({ gender: \"Other\" });\n        } else if (user.gender == 2) {\n          this.setState({ gender: \"Female\" });\n        }\n      });\n    // return this.props.history.push(\"/dashboard\");\n  };\n\n  findTripsByUser = () => {\n    fetch(\"http://localhost:8085/user/gettrips\", {\n      method: \"get\",\n      headers: new Headers({\n        Authorization: localStorage.jwtToken,\n        \"Content-Type\": \"application/json\",\n      }),\n    })\n      .then((response) => response.json())\n      .then((trips) => {\n        console.log(trips[0]);\n        this.setState({\n          trip: trips[0],\n          test: trips.length,\n        });\n        console.log(this.state.test);\n      });\n  };\n\n  getChatUsers = () => {\n    fetch(\"http://localhost:8085/user/getchatslist\", {\n      method: \"get\",\n      headers: new Headers({\n        Authorization: localStorage.jwtToken,\n        \"Content-Type\": \"application/json\",\n      }),\n    })\n      .then((response) => response.json())\n      .then((chatUsers) => {\n        console.log(chatUsers);\n        this.setState({\n          firstChatUser: chatUsers[0],\n        });\n      });\n  };\n\n  createTrip() {\n    return this.props.history.push(\"/createtrip\");\n  }\n\n  deleteProfile() {\n    return this.props.history.push(\"/deleteProfile\");\n  }\n  myChats() {\n    return this.props.history.push(\"/chatUi/\" + this.state.id);\n  }\n  myTrips() {\n    return this.props.history.push(\"/myTrips\");\n  }\n  changePhoto() {\n    localStorage.setItem(\"photoPath\", this.state.photoPath);\n    return this.props.history.push(\"/changePhoto\");\n  }\n  render() {\n    const {\n      firstName,\n      lastName,\n      email,\n      gender,\n      description,\n      dob,\n      photoPath,\n      trip,\n      test,\n      firstChatUser,\n      nchatUsers,\n    } = this.state;\n\n    const isPhoto = photoPath === null;\n    let yaar;\n\n    if (!test) {\n      yaar = (\n        <div className=\"text-white text-center bg-info block-example border border-danger w-100 p-2\">\n          There are no previous trips to display.\n          <br /> Click on Create Trip Button to create new. trips.\n        </div>\n      );\n    } else {\n      yaar = (\n        <div>\n          <i>Latest Trip</i>\n          <div className=\"text-dark block-example border border-info w-100 p-2\">\n            <small>\n              Description:{trip.description}\n              <br />\n              Location: {trip.destination}\n              {\" | \"}\n              Budget: {trip.tripBudget}\n              <br />\n              Group Size: {trip.groupSize}\n              {\" | \"}\n              Date: {trip.tripDate}\n            </small>\n          </div>\n          <small>To see all the information click on button below...</small>\n          <br />\n          <Button size=\"sm\" className=\"text-center\" onClick={this.myTrips}>\n            {\" \"}\n            View all\n          </Button>\n        </div>\n      );\n    }\n\n    let chatUserDisplay;\n    if (!firstChatUser) {\n      chatUserDisplay = (\n        <div className=\"text-white text-center bg-info block-example border border-danger w-100 p-2\">\n          There are no messages.\n        </div>\n      );\n    } else {\n      chatUserDisplay = (\n        <div>\n          <i>You have a message from:</i>\n          <br></br>\n          <div className=\"text-dark block-example border border-info w-100 p-2\">\n            <small>\n              <li>\n                {firstChatUser.firstName} {firstChatUser.lastName}\n              </li>\n            </small>\n          </div>\n          <br />\n          <Button size=\"sm\" className=\"text-center\" onClick={this.myChats}>\n            {\" \"}\n            View other messages\n          </Button>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"container\">\n        <div className=\"main-body\">\n          <div className=\"row gutters-sm\">\n            <div className=\"col-md-4 mb-3\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <div className=\"d-flex flex-column align-items-center text-center\">\n                    {isPhoto ? (\n                      <img\n                        src=\"https://i2-prod.manchestereveningnews.co.uk/sport/football/football-news/article18186890.ece/ALTERNATES/s1200c/2_GettyImages-1184489344.jpg\"\n                        alt=\"Admin\"\n                        className=\"rounded-circle\"\n                        width=\"150\"\n                      ></img>\n                    ) : (\n                      <img\n                        src=\"https://bootdey.com/img/Content/avatar/avatar7.png\"\n                        alt=\"No photo to preview\"\n                        className=\"rounded-circle\"\n                        width=\"150\"\n                      ></img>\n                    )}\n\n                    <div className=\"mt-3\">\n                      <h4>{firstName + \" \" + lastName}</h4>\n                      <p className=\"text-secondary mb-3\">{description}</p>\n\n                      <button\n                        className=\"btn btn-primary\"\n                        onClick={this.changePhoto}\n                      >\n                        Change Photo\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"card mt-3\">\n                <ul className=\"list-group list-group-flush\">\n                  <li className=\"list-group-item text-center\">\n                    <>\n                      <style type=\"text/css\">\n                        {`\n                      .editProfile {\n                        background-color: #1E90FF ;\n                        color: white;\n                      }\n                      .createTrip {\n                        background-color: grey;\n                        color: white;\n                      }\n\n                      .btn-xxl {\n                        left: 1rem;\n                        font-size: 1rem;\n                      }\n                      `}\n                      </style>\n                      <Button\n                        className=\"editProfile\"\n                        variant=\"flat\"\n                        size=\"xxl1\"\n                        onClick={this.editProfile}\n                      >\n                        Edit Profile\n                      </Button>\n                    </>\n                  </li>\n                  <li className=\"list-group-item text-center\">\n                    <>\n                      <Button\n                        className=\"createTrip\"\n                        variant=\"flat\"\n                        size=\"xxl1\"\n                        onClick={this.createTrip}\n                      >\n                        Create Trip\n                      </Button>\n                    </>\n                  </li>\n                  <li className=\"list-group-item text-center\">\n                    <>\n                      <style type=\"text/css\">\n                        {`\n                      .btn-flat1 {\n                        background-color: #B22222;\n                        color: white;\n                      }\n\n                      .btn-xxl1 {\n                        left: 1rem;\n                        font-size: 1rem;\n                      }\n                      `}\n                      </style>\n                      <Button\n                        variant=\"flat1\"\n                        size=\"xxl1\"\n                        onClick={this.deleteProfile}\n                      >\n                        Delete Account\n                      </Button>\n                    </>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"col-md-8\">\n              <div className=\"card mb-3\">\n                <div className=\"card-body\">\n                  <div className=\"row\">\n                    <div className=\"col-sm-3\">\n                      <h6 className=\"mb-0\">Full Name</h6>\n                    </div>\n                    <div className=\"col-sm-9 text-secondary\">\n                      {firstName + \" \" + lastName}\n                    </div>\n                  </div>\n                  <hr></hr>\n                  <div className=\"row\">\n                    <div className=\"col-sm-3\">\n                      <h6 className=\"mb-0\">Email</h6>\n                    </div>\n                    <div className=\"col-sm-9 text-secondary\">{email}</div>\n                  </div>\n                  <hr></hr>\n                  <div className=\"row\">\n                    <div className=\"col-sm-3\">\n                      <h6 className=\"mb-0\">Gender</h6>\n                    </div>\n                    <div className=\"col-sm-9 text-secondary\">{gender}</div>\n                  </div>\n                  <hr></hr>\n                  <div className=\"row\">\n                    <div className=\"col-sm-3\">\n                      <h6 className=\"mb-0\">Date of Birth</h6>\n                    </div>\n                    <div className=\"col-sm-9 text-secondary\">{dob}</div>\n                  </div>\n                  <hr></hr>\n                  {/* <div className=\"row\">\n                    <div className=\"col-sm-3\">\n                      <h6 className=\"mb-0\">Address</h6>\n                    </div>\n                    <div className=\"col-sm-9 text-secondary\">Indore, M.P.</div>\n                  </div> */}\n                </div>\n              </div>\n              <div className=\"row gutters-sm\">\n                <div className=\"col-sm-6 mb-3\">\n                  <div className=\"card h-100\">\n                    <div className=\"card-body\">\n                      <h6 className=\"d-flex align-items-center mb-3\">\n                        <i className=\"material-icons text-info mr-2\">\n                          Chat Messages\n                        </i>\n                      </h6>\n                      {chatUserDisplay}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-sm-6 mb-3\">\n                  <div className=\"card h-100\">\n                    <div className=\"card-body\">\n                      <h6 className=\"d-flex align-items-center mb-3\">\n                        <i className=\"material-icons text-info mr-2\">\n                          My Trips\n                        </i>\n                      </h6>\n                      {yaar}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}