{"ast":null,"code":"import _classCallCheck from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/nayanchaturvedi/Documents/tripshare/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{slideDown,slideUp}from\"./Anime\";import\"../assets/css/Style.css\";import{Container,Col,Row}from\"react-bootstrap\";import\"../services/ChatServices\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import ChatServices from\"../services/ChatServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserTableRow=/*#__PURE__*/function(_React$Component){_inherits(UserTableRow,_React$Component);var _super=_createSuper(UserTableRow);function UserTableRow(props){var _this;_classCallCheck(this,UserTableRow);_this=_super.call(this,props);_this.toggleExpander=function(e){if(e.target.type===\"checkbox\")return;if(!_this.state.expanded){_this.setState({expanded:true},function(){if(_this.refs.expanderBody){slideDown(_this.refs.expanderBody);}});}else{slideUp(_this.refs.expanderBody,{onComplete:function onComplete(){_this.setState({expanded:false});}});}};_this.handleChange=function(value){_this.setState(function(){return{messageobj:{toUserId:_this.props.trip.user.id,message:value}};});};_this.handleClickOpen=function(){_this.setState({open:true});};_this.handleClose=function(){_this.setState({open:false});};_this.sendMsg=function(e){e.preventDefault();if(_this.state.messageobj.message===\"\"){return;}var messageobj={toUserId:_this.state.messageobj.toUserId,message:_this.state.messageobj.message};console.log(_this.state.messageobj);console.log(messageobj);ChatServices.sendMessage(messageobj).then(function(res){console.log(res);_this.handleClose();});};_this.state={expanded:false,open:false,messageobj:{toUserId:\"\",message:\"\"}};return _this;}_createClass(UserTableRow,[{key:\"render\",value:function render(){var _this2=this;var trip=this.props.trip;var open=this.state.open;return[/*#__PURE__*/_jsxs(\"tr\",{onClick:this.toggleExpander,children:[/*#__PURE__*/_jsxs(\"td\",{children:[trip.destination,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:trip.landscape})]}),/*#__PURE__*/_jsx(\"td\",{children:trip.tripDate}),/*#__PURE__*/_jsxs(\"td\",{children:[trip.user.firstName,\" \",trip.user.lastName]})]},\"main\"),this.state.expanded&&/*#__PURE__*/_jsx(\"tr\",{className:\"expandable bg-dark\",children:/*#__PURE__*/_jsx(\"td\",{className:\"uk-background-muted text-white\",colSpan:6,children:/*#__PURE__*/_jsxs(\"div\",{ref:\"expanderBody\",className:\"inner uk-grid text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"uk-width-1-4 uk-text-center text-white\"}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Trip Details:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white block-example border border-secondary w-50 p-2\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"i\",{children:[\" \",trip.description]})]})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Travel Budget: \",trip.tripBudget,/*#__PURE__*/_jsx(\"br\",{}),\"Trip Length: \",trip.tripLength,/*#__PURE__*/_jsx(\"br\",{}),\"Group Size: \",trip.groupSize]})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Host Details:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Host name:\",\" \",/*#__PURE__*/_jsxs(\"i\",{children:[trip.user.firstName,\" \",trip.user.lastName]}),/*#__PURE__*/_jsx(\"br\",{}),\"Host Age: \",/*#__PURE__*/_jsx(\"i\",{children:trip.user.age}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Host gender:\",/*#__PURE__*/_jsxs(\"i\",{children:[\" \",trip.user.gender]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",color:\"primary\",onClick:this.handleClickOpen,children:[\"Have a conversation\",\" \"]}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:this.handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Message box\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(DialogContentText,{children:[\"Write a message to \",/*#__PURE__*/_jsx(\"i\",{children:trip.user.firstName}),\".\"]}),/*#__PURE__*/_jsx(TextField,{autoFocus:true,margin:\"dense\",id:\"outlined-multiline-static\",placeholder:\"Hey There!\",label:\"Message\",multiline:true,rows:4,variant:\"outlined\",fullWidth:true,onChange:function onChange(event){return _this2.handleChange(event.target.value);},name:\"message\"})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:this.handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:this.sendMsg,color:\"primary\",children:\"Send\"})]})]})]})]})]})})]})})},\"tr-expander\")];}}]);return UserTableRow;}(React.Component);export default UserTableRow;","map":{"version":3,"sources":["/home/nayanchaturvedi/Documents/tripshare/src/components/UserTableRow.js"],"names":["React","slideDown","slideUp","Container","Col","Row","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","ChatServices","UserTableRow","props","toggleExpander","e","target","type","state","expanded","setState","refs","expanderBody","onComplete","handleChange","value","messageobj","toUserId","trip","user","id","message","handleClickOpen","open","handleClose","sendMsg","preventDefault","console","log","sendMessage","then","res","destination","landscape","tripDate","firstName","lastName","description","tripBudget","tripLength","groupSize","age","gender","event","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { slideDown, slideUp } from \"./Anime\";\nimport \"../assets/css/Style.css\";\nimport { Container, Col, Row } from \"react-bootstrap\";\nimport \"../services/ChatServices\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport ChatServices from \"../services/ChatServices\";\nclass UserTableRow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      open: false,\n      messageobj: {\n        toUserId: \"\",\n        message: \"\",\n      },\n    };\n  }\n  toggleExpander = (e) => {\n    if (e.target.type === \"checkbox\") return;\n\n    if (!this.state.expanded) {\n      this.setState({ expanded: true }, () => {\n        if (this.refs.expanderBody) {\n          slideDown(this.refs.expanderBody);\n        }\n      });\n    } else {\n      slideUp(this.refs.expanderBody, {\n        onComplete: () => {\n          this.setState({ expanded: false });\n        },\n      });\n    }\n  };\n  handleChange = (value) => {\n    this.setState(() => ({\n      messageobj: {\n        toUserId: this.props.trip.user.id,\n        message: value,\n      },\n    }));\n  };\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  sendMsg = (e) => {\n    e.preventDefault();\n    if (this.state.messageobj.message === \"\") {\n      return;\n    }\n    let messageobj = {\n      toUserId: this.state.messageobj.toUserId,\n      message: this.state.messageobj.message,\n    };\n    console.log(this.state.messageobj);\n    console.log(messageobj);\n    ChatServices.sendMessage(messageobj).then((res) => {\n      console.log(res);\n      this.handleClose();\n    });\n  };\n\n  render() {\n    const { trip } = this.props;\n    const { open } = this.state;\n\n    return [\n      <tr key=\"main\" onClick={this.toggleExpander}>\n        {/* <td className=\"uk-text-nowrap text-white\">{this.props.index}.</td> */}\n        {/* <td>\n          <img\n            className=\"uk-preserve-width uk-border-circle text-white\"\n            src={user.picture.thumbnail}\n            width={48}\n            alt=\"avatar\"\n          />\n        </td> */}\n        <td>\n          {trip.destination}\n          <br />\n          <small>{trip.landscape}</small>\n        </td>\n        <td>{trip.tripDate}</td>\n        <td>\n          {trip.user.firstName} {trip.user.lastName}\n        </td>\n      </tr>,\n      this.state.expanded && (\n        <tr className=\"expandable bg-dark\" key=\"tr-expander\">\n          <td className=\"uk-background-muted text-white\" colSpan={6}>\n            <div ref=\"expanderBody\" className=\"inner uk-grid text-white\">\n              <div className=\"uk-width-1-4 uk-text-center text-white\">\n                {/* <img\n                  className=\"uk-preserve-width uk-border-circle text-white\"\n                  src={user.picture.large}\n                  alt=\"avatar\"\n                /> */}\n              </div>\n              <Container>\n                <Row>\n                  <Col>\n                    <h3>Trip Details:</h3>\n\n                    <div className=\"text-white block-example border border-secondary w-50 p-2\">\n                      <p>\n                        Description:\n                        <br />\n                        <i> {trip.description}</i>\n                      </p>\n                    </div>\n\n                    <p>\n                      Travel Budget: {trip.tripBudget}\n                      <br />\n                      Trip Length: {trip.tripLength}\n                      <br />\n                      Group Size: {trip.groupSize}\n                    </p>\n                  </Col>\n                  <Col>\n                    <h3>Host Details:</h3>\n\n                    <p>\n                      Host name:{\" \"}\n                      <i>\n                        {trip.user.firstName} {trip.user.lastName}\n                      </i>\n                      <br />\n                      Host Age: <i>{trip.user.age}</i> <br />\n                      Host gender:<i> {trip.user.gender}</i>\n                    </p>\n                    <div>\n                      <Button\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={this.handleClickOpen}\n                      >\n                        Have a conversation{\" \"}\n                      </Button>\n                      <Dialog\n                        open={open}\n                        onClose={this.handleClose}\n                        aria-labelledby=\"form-dialog-title\"\n                      >\n                        <DialogTitle id=\"form-dialog-title\">\n                          Message box\n                        </DialogTitle>\n                        <DialogContent>\n                          <DialogContentText>\n                            Write a message to <i>{trip.user.firstName}</i>.\n                          </DialogContentText>\n                          <TextField\n                            autoFocus\n                            margin=\"dense\"\n                            id=\"outlined-multiline-static\"\n                            placeholder=\"Hey There!\"\n                            label=\"Message\"\n                            multiline\n                            rows={4}\n                            variant=\"outlined\"\n                            fullWidth\n                            onChange={(event) =>\n                              this.handleChange(event.target.value)\n                            }\n                            name=\"message\"\n                          />\n\n                          {/* <Form.Group controlId=\"formGridDescription\">\n                    <Form.Label>Description</Form.Label>\n                    <Form.Control\n                      type=\"textarea\"\n                      rows=\"9\"\n                      placeholder=\"Your expectations here...\"\n                      name=\"description\"\n                      value={description}\n                      onChange={this.userChange}\n                    />\n                  </Form.Group> */}\n                        </DialogContent>\n                        <DialogActions>\n                          <Button onClick={this.handleClose} color=\"primary\">\n                            Cancel\n                          </Button>\n                          <Button onClick={this.sendMsg} color=\"primary\">\n                            Send\n                          </Button>\n                        </DialogActions>\n                      </Dialog>\n                    </div>\n                  </Col>\n                </Row>\n              </Container>\n            </div>\n          </td>\n        </tr>\n      ),\n    ];\n  }\n}\n\nexport default UserTableRow;\n"]},"metadata":{},"sourceType":"module"}