[{"/home/nayanchaturvedi/Documents/tripshare/src/index.js":"1","/home/nayanchaturvedi/Documents/tripshare/src/App.js":"2","/home/nayanchaturvedi/Documents/tripshare/src/serviceWorker.js":"3","/home/nayanchaturvedi/Documents/tripshare/src/components/NavigationBar.js":"4","/home/nayanchaturvedi/Documents/tripshare/src/components/Welcome.js":"5","/home/nayanchaturvedi/Documents/tripshare/src/components/Dashboard.js":"6","/home/nayanchaturvedi/Documents/tripshare/src/components/Register.js":"7","/home/nayanchaturvedi/Documents/tripshare/src/components/Login.js":"8","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authActions.js":"9","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authReducer.js":"10","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authTypes.js":"11","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authToken.js":"12","/home/nayanchaturvedi/Documents/tripshare/src/services/RegisterServices.js":"13","/home/nayanchaturvedi/Documents/tripshare/src/components/EditProfile.js":"14","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/store.js":"15","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/rootReducer.js":"16","/home/nayanchaturvedi/Documents/tripshare/src/services/auth/index.js":"17","/home/nayanchaturvedi/Documents/tripshare/src/components/CreateTrip.js":"18","/home/nayanchaturvedi/Documents/tripshare/src/services/TripServices.js":"19","/home/nayanchaturvedi/Documents/tripshare/src/services/EditServices.js":"20","/home/nayanchaturvedi/Documents/tripshare/src/components/NewMatch.js":"21","/home/nayanchaturvedi/Documents/tripshare/src/components/UserTableRow.js":"22","/home/nayanchaturvedi/Documents/tripshare/src/components/Anime.js":"23","/home/nayanchaturvedi/Documents/tripshare/src/components/DeleteProfile.js":"24","/home/nayanchaturvedi/Documents/tripshare/src/components/ChangePhoto.js":"25","/home/nayanchaturvedi/Documents/tripshare/src/components/MyTrips.js":"26","/home/nayanchaturvedi/Documents/tripshare/src/components/AboutUs.js":"27","/home/nayanchaturvedi/Documents/tripshare/src/services/ChatServices.js":"28","/home/nayanchaturvedi/Documents/tripshare/src/components/ChatUI.js":"29"},{"size":427,"mtime":1619637470626,"results":"30","hashOfConfig":"31"},{"size":1949,"mtime":1621105686542,"results":"32","hashOfConfig":"31"},{"size":4951,"mtime":1618995990000,"results":"33","hashOfConfig":"31"},{"size":2379,"mtime":1621108011022,"results":"34","hashOfConfig":"31"},{"size":2306,"mtime":1621104123965,"results":"35","hashOfConfig":"31"},{"size":11971,"mtime":1621151857450,"results":"36","hashOfConfig":"31"},{"size":6015,"mtime":1621104072724,"results":"37","hashOfConfig":"31"},{"size":4921,"mtime":1621106714455,"results":"38","hashOfConfig":"31"},{"size":1094,"mtime":1619987532487,"results":"39","hashOfConfig":"31"},{"size":521,"mtime":1618995990000,"results":"40","hashOfConfig":"31"},{"size":161,"mtime":1618995990000,"results":"41","hashOfConfig":"31"},{"size":239,"mtime":1619198995149,"results":"42","hashOfConfig":"31"},{"size":483,"mtime":1620212989073,"results":"43","hashOfConfig":"31"},{"size":9757,"mtime":1621113479063,"results":"44","hashOfConfig":"31"},{"size":321,"mtime":1619199409095,"results":"45","hashOfConfig":"31"},{"size":175,"mtime":1619199186443,"results":"46","hashOfConfig":"31"},{"size":31,"mtime":1620065465266,"results":"47","hashOfConfig":"31"},{"size":8375,"mtime":1621108276768,"results":"48","hashOfConfig":"31"},{"size":584,"mtime":1619813095398,"results":"49","hashOfConfig":"31"},{"size":987,"mtime":1620846916924,"results":"50","hashOfConfig":"31"},{"size":2243,"mtime":1620244891368,"results":"51","hashOfConfig":"31"},{"size":6633,"mtime":1621114352080,"results":"52","hashOfConfig":"31"},{"size":2132,"mtime":1619892699472,"results":"53","hashOfConfig":"31"},{"size":1723,"mtime":1620125991426,"results":"54","hashOfConfig":"31"},{"size":2293,"mtime":1620933319507,"results":"55","hashOfConfig":"31"},{"size":3111,"mtime":1620298546234,"results":"56","hashOfConfig":"31"},{"size":2470,"mtime":1621103453726,"results":"57","hashOfConfig":"31"},{"size":668,"mtime":1620826540170,"results":"58","hashOfConfig":"31"},{"size":9484,"mtime":1621151409973,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"1ti5nmt",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119"},"/home/nayanchaturvedi/Documents/tripshare/src/index.js",[],["120","121"],"/home/nayanchaturvedi/Documents/tripshare/src/App.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/serviceWorker.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/NavigationBar.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/Welcome.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/Dashboard.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/Register.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/Login.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authActions.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authReducer.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authTypes.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/authToken.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/RegisterServices.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/EditProfile.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/store.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/rootReducer.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/auth/index.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/CreateTrip.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/TripServices.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/EditServices.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/NewMatch.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/UserTableRow.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/Anime.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/DeleteProfile.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/ChangePhoto.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/MyTrips.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/AboutUs.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/services/ChatServices.js",[],"/home/nayanchaturvedi/Documents/tripshare/src/components/ChatUI.js",["122","123","124"],"import { Button, Card } from \"react-bootstrap\";\nimport React, { Component } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport ChatServices from \"../services/ChatServices\";\nimport \"../assets/css/Style.css\";\n// import { Card } from \"material-ui\";\n\nclass ChatUI extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currUserId: this.props.match.params.id,\n      currChatUser: {\n        id: \"\",\n        name: \"\",\n      },\n      messageobj: {\n        toUserId: \"\",\n        message: \"\",\n      },\n      chatUsers: [\n        // {\n        //   id: \"1\",\n        //   firstName: \"Johnny\",\n        //   lastName: \"Depp\",\n        //   email: \"j@d.com\",\n        //   password: \"123\",\n        //   gender: \"male\",\n        //   dob: \"22/11/1997\",\n        //   description: \"iiitb\",\n        //   // photoPath: \"\",\n        // },\n        // {\n        //   id: \"2\",\n        //   firstName: \"Leonardo\",\n        //   lastName: \"Dicaprio\",\n        //   email: \"l@d.com\",\n        //   password: \"123\",\n        //   gender: \"male\",\n        //   dob: \"12/34/1975\",\n        //   description: \"iiitb\",\n        //   // photoPath: \"\",\n        // },\n        // {\n        //   id: \"4\",\n        //   firstName: \"Dwight\",\n        //   lastName: \"Shrute\",\n        //   email: \"j@d.com\",\n        //   password: \"123\",\n        //   gender: \"male\",\n        //   dob: \"22/11/1997\",\n        //   description: \"iiitb\",\n        //   // photoPath: \"\",\n        // },\n      ],\n      chatMessages: [],\n      // chatMessages: [\n      //   {\n      //     fromUser: {\n      //       id: \"4\",\n      //     },\n      //     toUser: {\n      //       id: \"3\",\n      //     },\n      //     message: \"Hey!\",\n      //     msgTimestamp: \"1\",\n      //   },\n      //   {\n      //     fromUser: {\n      //       id: \"3\",\n      //     },\n      //     toUser: {\n      //       id: \"4\",\n      //     },\n      //     message: \"Hi!\",\n      //     msgTimestamp: \"2\",\n      //   },\n      // ],\n    };\n    this.showUserChat = this.showUserChat.bind(this);\n  }\n\n  componentDidMount() {\n    ChatServices.getChatUsers().then((res) => {\n      console.log(res.data);\n      this.setState({\n        chatUsers: res.data,\n        isDemoChat: false,\n      });\n    });\n  }\n\n  refreshChat = () => {\n    ChatServices.getChats(this.state.currChatUser.id).then((res) => {\n      this.setState(\n        {\n          chatMessages: res.data,\n        },\n        console.log(res.data[0].fromUser.id)\n      );\n    });\n    console.log(\"curr user -> \" + this.state.currUserId);\n  };\n\n  showUserChat = (chatUser) => {\n    var name = chatUser.firstName + \" \" + chatUser.lastName;\n    var id = chatUser.id;\n    // show name on chat panel\n    document.getElementById(\"otherUserName\").innerHTML = name;\n\n    // set msgtosend object user id\n    this.setState(\n      {\n        messageobj: {\n          toUserId: id,\n          message: \"\",\n        },\n        currChatUser: {\n          id: id,\n          name: name,\n        },\n      },\n      () => {\n        console.log(this.state.messageobj);\n        console.log(this.state.currChatUser);\n      },\n      // send get\n      ChatServices.getChats(chatUser.id)\n        .then((res) => {\n          this.setState(\n            {\n              chatMessages: res.data,\n            },\n            console.log(res.data[0].fromUser.id)\n          );\n        })\n        .then(() => {\n          console.log(this.state.chatMessages);\n          console.log(this.state.chatMessages[0].fromUser.id);\n        })\n    );\n    console.log(\"curr user -> \" + this.state.currUserId);\n  };\n\n  handleChange = (value) => {\n    this.setState(() => ({\n      messageobj: {\n        toUserId: this.state.messageobj.toUserId,\n        message: value,\n      },\n    }));\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  sendMsg = (e) => {\n    e.preventDefault();\n    if (this.state.messageobj.message == \"\") {\n      return;\n    }\n    let messageobj = {\n      toUserId: this.state.messageobj.toUserId,\n      message: this.state.messageobj.message,\n    };\n    console.log(this.state.messageobj);\n    ChatServices.sendMessage(this.state.messageobj).then((res) => {\n      console.log(res);\n      document.getElementById(\"chatBox\").value = \"\";\n      this.refreshChat();\n    });\n  };\n\n  render() {\n    const { chatUsers, chatMessages } = this.state;\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"main-body\">\n            <div className=\"row gutters-sm\">\n              <div className=\"col-md-5 mb-3\">\n                <div className=\"card\">\n                  <div className=\"card-body\">\n                    <div className=\"d-flex flex-column align-items-center text-center\">\n                      <div className=\"mt-3\">\n                        <h4 className=\"mb-4\">My Messages</h4>\n                        <p className=\"text-secondary mb-4 \">\n                          People who tried to contact you-{\" \"}\n                        </p>\n                      </div>\n                    </div>\n                    {chatUsers.map((chatUser) => (\n                      <div key={chatUser.id}>\n                        <div className=\"row\">\n                          <div className=\"col-sm-8\">\n                            <h6 className=\"mb-0\">\n                              <i className=\"material-icons text-info mr-2\">\n                                {chatUser.firstName} {chatUser.lastName}\n                              </i>\n                            </h6>\n                          </div>\n                          <Button\n                            variant=\"primary\"\n                            size=\"sm\"\n                            onClick={() => {\n                              this.showUserChat(chatUser);\n                            }}\n                          >\n                            Messages\n                          </Button>\n                        </div>\n                        <hr></hr>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"chat col-md-7\">\n                <div className=\"card mb-6\">\n                  <div className=\"card-body\" id=\"chatsdisplay\">\n                    <div className=\"row\">\n                      <div className=\"col-lg-8\">\n                        <h5 className=\"mb-4\">\n                          <i\n                            className=\"material-icons text-info mr-2\"\n                            id=\"otherUserName\"\n                          >\n                            Please select a user to see messages.\n                          </i>\n                        </h5>\n                      </div>\n                    </div>\n                    {chatMessages.map((chatMessage) => (\n                      <div key={chatMessage.msgTimestamp}>\n                        {this.state.currUserId == chatMessage.fromUser.id ? (\n                          <div className=\"row\">\n                            {\" \"}\n                            <div className=\"col-6\"> </div>\n                            <div className=\"col-6 text-right\">\n                              <Card bg=\"info\" text=\"light\">\n                                <Card.Body>{chatMessage.message}</Card.Body>\n                              </Card>\n                              <h6 className=\"mb-0 col-sm text-secondary\">\n                                You{\" \"}\n                              </h6>\n                            </div>\n                          </div>\n                        ) : (\n                          <div className=\"row\">\n                            {\" \"}\n                            <div className=\"col-6 text-left\">\n                              <Card bg=\"primary\" text=\"light\">\n                                <Card.Body>{chatMessage.message}</Card.Body>\n                              </Card>\n                              <h6 className=\"mb-0 col-sm text-secondary\">\n                                User{\" \"}\n                              </h6>\n                            </div>\n                            <div className=\"col-6 text-right\"></div>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                    <hr></hr>\n                    <div className=\"row\">\n                      <div className=\"col\">\n                        <TextField\n                          autoFocus\n                          margin=\"dense\"\n                          id=\"chatBox\"\n                          placeholder=\"Message \"\n                          label=\"Write a message here\"\n                          multiline\n                          rows={1}\n                          variant=\"outlined\"\n                          fullWidth\n                          onChange={(event) =>\n                            this.handleChange(event.target.value)\n                          }\n                          name=\"message\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <Button\n                        variant=\"primary\"\n                        size=\"sm\"\n                        onClick={this.sendMsg}\n                      >\n                        Send\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChatUI;\n",{"ruleId":"125","replacedBy":"126"},{"ruleId":"127","replacedBy":"128"},{"ruleId":"129","severity":1,"message":"130","line":160,"column":39,"nodeType":"131","messageId":"132","endLine":160,"endColumn":41},{"ruleId":"133","severity":1,"message":"134","line":163,"column":9,"nodeType":"135","messageId":"136","endLine":163,"endColumn":19},{"ruleId":"129","severity":1,"message":"130","line":237,"column":48,"nodeType":"131","messageId":"132","endLine":237,"endColumn":50},"no-native-reassign",["137"],"no-negated-in-lhs",["138"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'messageobj' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]